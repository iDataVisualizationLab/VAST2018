<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="lib/d3.js"></script>
    <script src="lib/generalutils.js"></script>

</head>
<body>
<div class="modebar modebar--hover">
    <div class="modebar-group">
        <a rel="tooltip" class="modebar-btn" data-title="Download plot as a png"
           data-toggle="false" data-gravity="n">
            <svg height="1em" width="1em" viewBox="0 0 1000 1000">
                <path d="m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z"
                      transform="matrix(1 0 0 -1 0 850)"></path>
            </svg>
        </a>
        <a rel="tooltip" class="modebar-btn" data-title="Clear"
           data-toggle="false" data-gravity="n">
            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18">
                <path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12l1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"
                      transform="scale(0.8, 0.8)"/>
            </svg>
        </a>
    </div>
</div>
</div>
<script>
    var vis = d3.select("body").append("svg").attr("width", "400").attr("height", "400")
    ;
    // Added height and width so arc is visible
    // vis.append("svg:defs").append("svg:marker")
    //     .attr("id", "marker")
    //     .attr("viewBox", "0 -5 10 10")
    //     .attr("refX", 5)
    //     .attr("markerWidth", 6)
    //     .attr("markerHeight", 6)
    //     .attr("orient", "auto")
    //     .append("svg:path")
    //     .attr("d", "M0,-5L10,0L0,5")
    //     .attr("fill", "red")
    //     .attr("markerUnits","strokeWidth");

    function generateArc(container, id, startPoint, endPoint) {
        let swap = false;
        if (startPoint.y > endPoint.y) {
            let temp = startPoint;
            startPoint = endPoint;
            endPoint = temp;
            swap = true;
        }
        let radius = Math.sqrt(Math.pow(startPoint.x - endPoint.x, 2) + Math.pow(startPoint.y - endPoint.y, 2)) / 2;
        let arcStr = "M" + startPoint.x + " " + startPoint.y + " A" + (radius) + " " + (radius) +
            ", 0, 0, 1, " + endPoint.x + " " + endPoint.y;
        let g = container.append("g").attr("transform", "translate(40, 40)");
        g
            .append("path")
            .attr("id", id)
            .attr("d", arcStr)
            .attr("fill", "none")
            .attr("stroke", 'black')
            .attr("stroke-width", 0.3);
        g
            .append("text")
            .append("textPath")
            .attr("dominant-baseline", "central")
            .attr("xlink:href", "#" + id).attr("startOffset", "50%").attr("font-size", 6)
            .text(swap ? "<" : ">");
        return g;
    }

    generateArc(vis, "path1", {x: 0, y: 40}, {x: 0, y: 0});
</script>
</body>
</html>